{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
  <h2>Cargar nota</h2>
  <p class="text-muted">Profesor: <strong>{{ profesor }}</strong></p>

  <form method="post" class="mt-3">
    {% csrf_token %}

    <div class="mb-3">
      <label for="alumno" class="form-label">Alumno</label>
      <select id="alumno" name="alumno" class="form-select" required>
        <option value="" selected disabled>Seleccione un alumno...</option>
        {% for a in alumnos %}
          <option value="{{ a.id }}">{{ a.apellido }}, {{ a.nombre }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="materia" class="form-label">Materia</label>
      <select id="materia" name="materia" class="form-select" required>
        <option value="" selected disabled>Seleccione una materia...</option>
        {% for m in materias_asignadas %}
          <option value="{{ m.id }}">{{ m.nombre }} ({{ m.carrera }})</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="nota" class="form-label">Nota (1.00 - 10.00)</label>
      <input id="nota" name="nota" type="number" class="form-control" step="0.01" min="1" max="10" placeholder="Ej: 7.50" required />
    </div>

    <div class="mb-3">
      <label for="observaciones" class="form-label">Observaciones</label>
      <textarea id="observaciones" name="observaciones" class="form-control" rows="3" placeholder="Observaciones (opcional)"></textarea>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary">Guardar</button>
      <a href="{% url 'notas:lista_notas' %}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
